<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta charset="utf-8">
  <title>JS S7 HW15</title>
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
  <!--<link rel="stylesheet" href="./api/vendors/style.css">-->
  <style>
    .picker__holder, .picker__frame{bottom:0;left:0;right:0;top:100%}.picker__holder{position:fixed;transition:background .15s ease-out,top 0s .15s;-webkit-backface-visibility:hidden}.picker__frame{position:absolute;margin:0 auto;min-width:256px;width:300px;max-height:350px;-ms-filter:"alpha(opacity=0)";filter:alpha(opacity=0);-moz-opacity:0;opacity:0;transition:all .15s ease-out}@media(min-height:28.875em){.picker__frame{overflow:visible;top:auto;bottom:-100%;max-height:80%}}@media(min-height:40.125em){.picker__frame{margin-bottom:7.5%}}.picker__wrap{display:table;width:100%;height:100%}@media(min-height:28.875em){.picker__wrap{display:block}}.picker__box{background:#fff;display:table-cell;vertical-align:middle}@media(min-height:28.875em){.picker__box{display:block;border:1px solid #777;border-top-color:#898989;border-bottom-width:0;border-radius:5px 5px 0 0;box-shadow:0 12px 36px 16px rgba(0,0,0,0.24)}}.picker--opened .picker__holder{top:0;background:transparent;-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#1E000000,endColorstr=#1E000000)";zoom:1;background:rgba(0,0,0,0.32);transition:background .15s ease-out}.picker--opened .picker__frame{top:0;-ms-filter:"alpha(opacity=100)";filter:alpha(opacity=100);-moz-opacity:1;opacity:1}@media(min-height:35.875em){.picker--opened .picker__frame{top:10%;bottom:auto}}.picker__input.picker__input--active{border-color:#e3f2fd}.picker__frame{margin:0 auto;max-width:325px}@media(min-height:38.875em){.picker--opened .picker__frame{top:10%;bottom:auto}}@media only screen and (min-width:601px){.picker__box{display:-webkit-flex;display:-ms-flexbox;display:flex}.picker__frame{width:80%;max-width:600px}}.picker__box{padding:0;border-radius:2px;overflow:hidden}.picker__header{text-align:center;position:relative;margin-top:.75em}.picker__month,.picker__year{display:inline-block;margin-left:.25em;margin-right:.25em}.picker__select--month,.picker__select--year{height:2em;padding:0;margin-left:.25em;margin-right:.25em}.picker__select--month.browser-default{display:inline;background-color:#fff;width:40%}.picker__select--year.browser-default{display:inline;background-color:#fff;width:26%}.picker__select--month:focus,.picker__select--year:focus{border-color:rgba(0,0,0,0.05)}.picker__nav--prev,.picker__nav--next{position:absolute;padding:.5em 1.25em;width:1em;height:1em;box-sizing:content-box;top:-0.25em}.picker__nav--prev{left:-1em;padding-right:1.25em}.picker__nav--next{right:-1em;padding-left:1.25em}.picker__nav--disabled,.picker__nav--disabled:hover,.picker__nav--disabled:before,.picker__nav--disabled:before:hover{cursor:default;background:0;border-right-color:#f5f5f5;border-left-color:#f5f5f5}.picker__table{text-align:center;border-collapse:collapse;border-spacing:0;table-layout:fixed;font-size:1rem;width:100%;margin-top:.75em;margin-bottom:.5em}.picker__table th,.picker__table td{text-align:center}.picker__table td{margin:0;padding:0}.picker__weekday{width:14.285714286%;font-size:.75em;padding-bottom:.25em;color:#999;font-weight:500}@media(min-height:33.875em){.picker__weekday{padding-bottom:.5em}}.picker__day--today{position:relative;color:#595959;letter-spacing:-.3;padding:.75rem 0;font-weight:400;border:1px solid transparent}.picker__day--disabled:before{border-top-color:#aaa}.picker__day--infocus:hover{cursor:pointer;color:#000;font-weight:500}.picker__day--outfocus{display:none;padding:.75rem 0;color:#fff}.picker__day--outfocus:hover{cursor:pointer;color:#ddd;font-weight:500}.picker__day--highlighted:hover,.picker--focused .picker__day--highlighted{cursor:pointer}.picker__day--selected,.picker__day--selected:hover,.picker--focused .picker__day--selected{border-radius:50%;-webkit-transform:scale(0.75);-ms-transform:scale(0.75);transform:scale(0.75);background:#0089ec;color:#fff}.picker__day--disabled,.picker__day--disabled:hover,.picker--focused .picker__day--disabled{background:#f5f5f5;border-color:#f5f5f5;color:#ddd;cursor:default}.picker__day--highlighted.picker__day--disabled,.picker__day--highlighted.picker__day--disabled:hover{background:#bbb}.picker__footer{text-align:right}.picker__button--today,.picker__button--clear,.picker__button--close{border:1px solid #fff;background:#fff;font-size:.8em;padding:.66em 0;font-weight:bold;width:33%;display:inline-block;vertical-align:bottom}.picker__button--today:hover,.picker__button--clear:hover,.picker__button--close:hover{cursor:pointer;color:#000;background:#b1dcfb;border-bottom-color:#b1dcfb}.picker__button--today:focus,.picker__button--clear:focus,.picker__button--close:focus{background:#b1dcfb;border-color:rgba(0,0,0,0.05);outline:0}.picker__button--today:before,.picker__button--clear:before,.picker__button--close:before{position:relative;display:inline-block;height:0}.picker__button--today:before,.picker__button--clear:before{content:" ";margin-right:.45em}.picker__button--today:before{top:-0.05em;width:0;border-top:.66em solid #0059bc;border-left:.66em solid transparent}.picker__button--clear:before{top:-0.25em;width:.66em;border-top:3px solid #e20}.picker__button--close:before{content:"\D7";top:-0.1em;vertical-align:top;font-size:1.1em;margin-right:.35em;color:#777}.picker__button--today[disabled],.picker__button--today[disabled]:hover{background:#f5f5f5;border-color:#f5f5f5;color:#ddd;cursor:default}.picker__button--today[disabled]:before{border-top-color:#aaa}.picker__date-display{text-align:left;background-color:#26a69a;color:#fff;padding:18px;font-weight:300}@media only screen and (min-width:601px){.picker__date-display{-webkit-flex:1;-ms-flex:1;flex:1}.picker__weekday-display{display:block}.picker__container__wrapper{-webkit-flex:2;-ms-flex:2;flex:2}}.picker__nav--prev:hover,.picker__nav--next:hover{cursor:pointer;color:#000;background:#a1ded8}.picker__weekday-display{font-weight:500;font-size:2.8rem;margin-right:5px;margin-top:4px}.picker__month-display{font-size:2.8rem;font-weight:500}.picker__day-display{font-size:2.8rem;font-weight:500;margin-right:5px}.picker__year-display{font-size:1.5rem;font-weight:500;color:rgba(255,255,255,0.7)}.picker__calendar-container{padding:0 1rem}.picker__calendar-container thead{border:0}.picker__table{margin-top:0;margin-bottom:.5em}.picker__day--infocus{color:rgba(0,0,0,0.87);letter-spacing:-.3px;padding:.75rem 0;font-weight:400;border:1px solid transparent}@media only screen and (min-width:601px){.picker__day--infocus{padding:1.1rem 0}}.picker__day.picker__day--today{color:#26a69a}.picker__day.picker__day--today.picker__day--selected{color:#fff}.picker__weekday{font-size:.9rem}.picker__day--selected,.picker__day--selected:hover,.picker--focused .picker__day--selected{border-radius:50%;-webkit-transform:scale(0.9);-ms-transform:scale(0.9);transform:scale(0.9);background-color:#26a69a;color:#fff}.picker__day--selected.picker__day--outfocus,.picker__day--selected:hover.picker__day--outfocus,.picker--focused .picker__day--selected.picker__day--outfocus{background-color:#a1ded8}.picker__footer{text-align:right;padding:5px 10px}.picker__close,.picker__today,.picker__clear{font-size:1.1rem;padding:0 1rem;color:#26a69a}.picker__clear{color:#f44336;float:left}.picker__nav--prev:before,.picker__nav--next:before{content:" ";border-top:.5em solid transparent;border-bottom:.5em solid transparent;border-right:.75em solid #676767;width:0;height:0;display:block;margin:0 auto}.picker__nav--next:before{border-right:0;border-left:.75em solid #676767}button.picker__today:focus,button.picker__clear:focus,button.picker__close:focus{background-color:#a1ded8}.picker__list{list-style:none;padding:.75em 0 4.2em;margin:0}.picker__list-item{border-bottom:1px solid #ddd;border-top:1px solid #ddd;margin-bottom:-1px;position:relative;background:#fff;padding:.75em 1.25em}@media(min-height:46.75em){.picker__list-item{padding:.5em 1em}}.picker__list-item:hover{cursor:pointer;color:#000;background:#b1dcfb;border-color:#0089ec;z-index:10}.picker__list-item--highlighted{border-color:#0089ec;z-index:10}.picker__list-item--highlighted:hover,.picker--focused .picker__list-item--highlighted{cursor:pointer;color:#000;background:#b1dcfb}.picker__list-item--selected,.picker__list-item--selected:hover,.picker--focused .picker__list-item--selected{background:#0089ec;color:#fff;z-index:10}.picker__list-item--disabled,.picker__list-item--disabled:hover,.picker--focused .picker__list-item--disabled{background:#f5f5f5;border-color:#f5f5f5;color:#ddd;cursor:default;border-color:#ddd;z-index:auto}.picker--time .picker__button--clear{display:block;width:80%;margin:1em auto 0;padding:1em 1.25em;background:0;border:0;font-weight:500;font-size:.67em;text-align:center;text-transform:uppercase;color:rgba(0,0,0,0.87)}.picker--time .picker__button--clear:hover,.picker--time .picker__button--clear:focus{color:#000;background:#b1dcfb;background:#e20;border-color:#e20;cursor:pointer;color:#fff;outline:0}.picker--time .picker__button--clear:before{top:-0.25em;color:rgba(0,0,0,0.87);font-size:1.25em;font-weight:bold}.picker--time .picker__button--clear:hover:before,.picker--time .picker__button--clear:focus:before{color:#fff}.picker--time .picker__frame{min-width:256px;max-width:320px}.picker--time .picker__box{font-size:1em;background:#f2f2f2;padding:0}@media(min-height:40.125em){.picker--time .picker__box{margin-bottom:5em}}.clockpicker-display{font-size:4rem;font-weight:bold;text-align:center;color:rgba(255,255,255,0.6);font-weight:400;clear:both;position:relative}.clockpicker-span-am-pm{font-size:1.3rem;position:absolute;right:1rem;bottom:.3rem;line-height:2rem;font-weight:500}@media only screen and (min-width:601px){.clockpicker-display{top:32%}.clockpicker-span-am-pm{position:relative;right:auto;bottom:auto;text-align:center;margin-top:1.2rem}}.text-primary{color:white}.clockpicker-span-hours{margin-right:3px}.clockpicker-span-minutes{margin-left:3px}.clockpicker-span-hours,.clockpicker-span-minutes,.clockpicker-span-am-pm div{cursor:pointer}.clockpicker-moving{cursor:move}.clockpicker-plate{background-color:#eee;border-radius:50%;width:270px;height:270px;overflow:visible;position:relative;margin:auto;margin-top:25px;margin-bottom:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.clockpicker-canvas,.clockpicker-dial{width:270px;height:270px;position:absolute;left:-1px;top:-1px}.clockpicker-minutes{visibility:hidden}.clockpicker-tick{border-radius:50%;color:rgba(0,0,0,0.87);line-height:40px;text-align:center;width:40px;height:40px;position:absolute;cursor:pointer}.clockpicker-tick.active,.clockpicker-tick:hover{background-color:rgba(38,166,154,0.25)}.clockpicker-dial{transition:opacity 350ms,-webkit-transform 350ms;transition:transform 350ms,opacity 350ms;transition:transform 350ms,opacity 350ms,-webkit-transform 350ms}.clockpicker-dial-out{opacity:0}.clockpicker-hours.clockpicker-dial-out{-webkit-transform:scale(1.2,1.2);-ms-transform:scale(1.2,1.2);transform:scale(1.2,1.2)}.clockpicker-minutes.clockpicker-dial-out{-webkit-transform:scale(0.8,0.8);-ms-transform:scale(0.8,0.8);transform:scale(0.8,0.8)}.clockpicker-canvas{transition:opacity 175ms}.clockpicker-canvas-out{opacity:.25}.clockpicker-canvas-bearing{stroke:none;fill:#26a69a}.clockpicker-canvas-bg{stroke:none;fill:#26a69a}.clockpicker-canvas-bg-trans{fill:#26a69a}.clockpicker-canvas line{stroke:#26a69a;stroke-width:4;stroke-linecap:round}*{box-sizing:border-box}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after{content:'';content:none}q:before,q:after{content:'';content:none}table{border-collapse:collapse;border-spacing:0}body{overflow-x:hidden;background:#f9f9f9}a{text-decoration:none;color:inherit;transition:color .5s,opacity .5s;cursor:pointer}a:focus{outline:0}input:focus,button:focus{outline:0}input{border-radius:0}.scroll{overflow-y:auto;padding-right:15px}.scroll::-webkit-scrollbar{width:4px}.scroll::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,0.3)}.scroll::-webkit-scrollbar-thumb{background-color:black;outline:1px solid slategrey}.section-to-do{display:block;margin:30px auto;width:100%;max-width:700px;box-sizing:border-box}.section-to-do .title{font-size:50px;font-weight:100;text-align:center;color:rgba(175,47,47,0.15)}.section-to-do .title-list{font-size:25px;font-weight:100;text-align:center;color:rgba(175,47,47,0.15)}.section-to-do header{width:100%;max-width:700px;position:relative;padding:25px 75px 50px 30px;top:0;left:0;z-index:5;background:#25b99a;box-shadow:0 2px 4px rgba(44,62,80,0.15);border-top-left-radius:25px}.section-to-do header input{width:100%;height:50px;float:left;color:#fff;font-size:15px;font-weight:400;text-indent:18px;padding:0 60px 0 0;background:rgba(255,255,255,0.2);border-radius:5px 25px 25px 5px;border:0;box-shadow:none;outline:0}.section-to-do header input::-webkit-input-placeholder{color:rgba(255,255,255,0.75)}.section-to-do header button{width:50px;height:50px;position:absolute;top:15px;right:15px;z-index:2;border-radius:25px;background:#fff;border:0;box-shadow:none;outline:0;cursor:pointer}.section-to-do .nav{border-bottom-right-radius:25px;padding:10px;border-top:1px solid #e6e6e6}.section-to-do .nav .todo-count{padding:5px 0}.section-to-do .nav .filters li{padding:0 10px}.section-to-do .nav .filters li a{display:block;position:relative;padding:5px 20px;text-decoration:none;transition:color .2s ease-in-out}.section-to-do .nav .filters li a:before{content:"";position:absolute;bottom:0;width:0;border-bottom:solid 2px}.section-to-do .nav .filters li a:before{left:0}.section-to-do .nav .filters li a:hover{color:#fff}.section-to-do .nav .filters li a:hover:before{width:100%}.section-to-do .nav .filters li a:before{transition:width .2s ease-in-out}.section-to-do .nav .filters li a.selected{color:#000}.section-to-do .nav .filters .clear:hover{cursor:pointer;color:red;background:white}.section-to-do .container{width:100%;display:-webkit-flex;display:-ms-flexbox;display:flex;height:auto;padding:15px 0}.section-to-do .container .todo{width:100%}.section-to-do .container .todo#todo:after,.section-to-do .container .todo#completed:after{width:100%;display:block;text-align:center;font-size:12px;color:#aaa;padding:0 10px}.section-to-do .container li{width:100%;min-height:50px;float:left;font-size:14px;font-weight:500;color:#444;line-height:22px;background:#fff;border-radius:5px;position:relative;box-shadow:0 1px 2px rgba(44,62,80,0.1);margin:0 0 10px 0;padding:14px 100px 14px 14px;word-break:break-word;transition:.3s}.section-to-do .container li.active{background:rgba(37,185,154,0.27);box-shadow:0 2px 4px #2c3e50;text-decoration:line-through}.section-to-do .container li:last-of-type{margin:0}.section-to-do .container li:hover{box-shadow:0 8px 17px 0 rgba(0,0,0,0.3),0 6px 3px 0 rgba(0,0,0,0.19)}.section-to-do .container .buttons{width:100px;height:50px;position:absolute;top:0;right:0}.section-to-do .container .buttons button{width:50px;height:50px;float:left;background:0;position:relative;border:0;box-shadow:none;outline:0;cursor:pointer}.section-to-do .container .buttons button:last-of-type:before{content:'';width:1px;height:30px;background:#edf0f1;position:absolute;top:10px;left:0}.section-to-do .container #todo{display:none}.section-to-do .container #completed{display:none}.section-to-do .container #all{display:none}.section-to-do .container #todo.active{display:block;margin:0 10px}.section-to-do .container #completed.active{display:block;margin:0 10px}.section-to-do .container #all.active{display:block}.section-to-do .fa-plus:hover{color:#25b99a}.section-to-do .fa-trash:hover{color:red}.section-to-do .fa-check-circle-o:hover{color:#25b99a}
  </style>
</head>
<body>
<script>
  const APIKEY= '?apiKey=ub5BFaJp0V2ASPxrYFiNY-ACVx-EEtAG';
  const DBURL_todo = `https://api.mlab.com/api/1/databases/todo-list-js7/collections/todo${APIKEY}`;
  const DBURL_completed = `https://api.mlab.com/api/1/databases/todo-list-js7/collections/completed${APIKEY}`;
  const DBURL_archive = `https://api.mlab.com/api/1/databases/todo-list-js7/collections/archive${APIKEY}`;
  console.log(DBURL_todo, DBURL_completed, DBURL_archive);
</script>
<div class="section-to-do">
  <h1 class="title">JS ToDo list</h1>
  <header>
    <input type="text" placeholder="What needs to be done?" id="item">
    <button id="add">
      <i class="fa fa-plus" aria-hidden="true"></i>
    </button>
  </header>
  <nav class="nav">
    <ul class="filters" id="filters">
      <li><a href="#/all" data-name="all" id="alllists">All</a></li>
      <li><a href="#/todo" data-name="todo" class="selected">ToDo</a></li>
      <li><a href="#/completed" data-name="completed">Completed</a></li>

      <li><div class="todo-count"><strong id="todo-count">0 </strong> </div></li>
      <li><a  class="clear" id="clear" >Clear completed</a></li>
    </ul>
  </nav>
  <div class="container" id="container">
    <ul class="todo active" id="todo"><h2 class="title-list">Active todo list</h2></ul>
    <ul class="todo" id="completed"><h2 class="title-list">Completed list</h2></ul>
  </div>


</div>
<script>
  function addItem(e){document.getElementById("item").value="",data.todo.push(e),addItemToDOM(e)}function renderToDoList(){if(data.todo.length>=0)for(var e=0;e<data.todo.length;e++){var t=data.todo[e];addItemToDOM(t,!1,!1)}}function addItemToDOM(e,t,d){var o;o=t?document.getElementById("completed"):d?document.getElementById("all"):document.getElementById("todo");var a=document.createElement("li");a.innerText=e;var n=document.createElement("div");n.classList.add("buttons");var c=document.createElement("button");c.classList.add("remove"),c.innerHTML='<i class="fa fa-trash" aria-hidden="true"></i>';var m=document.createElement("button");m.classList.add("complete"),m.innerHTML='<i class="fa fa-check-circle-o" aria-hidden="true"></i>',n.appendChild(c),n.appendChild(m),a.appendChild(n),m.addEventListener("click",completeItem),c.addEventListener("click",removeItem),o.insertBefore(a,o.childNodes[0]),countToDoItems()}function completeItem(){var e=this.parentNode.parentNode,t=e.parentNode,d=t.id,o=e.innerText;e.classList.toggle("active");var a;"todo"===d?(data.todo.splice(data.todo.indexOf(o),1),data.completed.push(o),a=document.getElementById("completed")):(data.completed.splice(data.completed.indexOf(o),1),data.todo.push(o),a=document.getElementById("todo")),t.removeChild(e),a.insertBefore(e,a.childNodes[0]),countToDoItems()}function removeItem(){var e=this.parentNode.parentNode,t=e.parentNode,d=t.id,o=e.innerText;"todo"===d?data.todo.splice(data.todo.indexOf(o),1):data.completed.splice(data.completed.indexOf(o),1),t.removeChild(e),countToDoItems()}function countToDoItems(){var e=document.getElementById("todo-count"),t=document.querySelector(".selected").attributes.getNamedItem("data-name").value;return e.innerHTML="all"==t?data.todo.length+"  items undone<br>"+data.completed.length+"  items done":"todo"==t?data.todo.length+"  items undone":data.completed.length+"  items done"}var data={todo:["checked todo list"],all:[],completed:[]};document.getElementById("add").addEventListener("click",function(){var e=document.getElementById("item").value;e&&addItem(e)}),document.getElementById("item").addEventListener("keypress",function(e){var t=this.value;"Enter"===e.code&&t&&addItem(t)}),renderToDoList(),countToDoItems(),document.getElementById("filters").addEventListener("click",function(e){var t=e.target;if("A"===t.tagName&&t.attributes.getNamedItem("data-name")){var d=e.target.attributes.getNamedItem("data-name").value;document.querySelector(".selected").classList.remove("selected"),e.target.classList.add("selected"),"all"==d?(document.getElementById("todo").classList.add("active"),document.getElementById("completed").classList.add("active")):"todo"==d?(document.getElementById("completed").classList.remove("active"),document.getElementById(d).classList.add("active")):(document.querySelector(".active").classList.remove("active"),document.getElementById(d).classList.add("active"))}countToDoItems()}),document.getElementById("clear").addEventListener("click",function(){data.completed=[],document.getElementById("completed").innerHTML=""});
</script>
</body>
</html>